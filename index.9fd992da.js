function e(e,t,o){let a=e.indexOf(null);return -1!==a&&(t.push(o),e[a]=o,!0)}function t(e,t){return -1===e.indexOf(t)}function o(o,a,l,n,i){if(!t(a,o)||e(a,l,o))return;let r=[],u=0;for(let e=i;e<n.length;e++)if(n[e]!==o&&-1!==a.findIndex(t=>t===n[e])&&-1===r.findIndex(t=>t===n[e])&&r.push(n[e]),r.length===a.length){u=a.findIndex(e=>e===r[r.length-1]);break}if(r.length===a.length){a[u]=o;return}let d=a.findIndex(e=>a.filter(e=>-1===r.findIndex(t=>e===t))[0]===e);a[d]=o}function a(t,o,a){let l=a.findIndex(e=>t===e);if(-1!==l){a.splice(l,1),a.push(t);return}if(e(o,a,t))return;let n=o.indexOf(a[0]);o[n]=t,a.shift(),a.push(t)}function l(o,a,l){if(!t(a,o)||e(a,l,o))return;let n=a.indexOf(l[0]);a[n]=o,l.shift(),l.push(o)}const n={form:void 0,output:void 0,outputSeq:void 0,pageData:void 0,aboutAlgTitle:void 0,aboutAlgTitleSpan:void 0,aboutAlgorythmBoxes:void 0,boutAlgorythmTitleIndicator:void 0,lastSeq:[],pageFault:0};function i(){let e=n.form.alg.value.toLowerCase().trim(),{validatedAlgorythm:t,validatedMemorySize:i,validatedSequence:r,message:u}=function(e){let{algorythm:t,memorySize:n,sequence:i}=e,r=function(e){switch(e){case"fifo":return l;case"lru":return a;case"opt":return o}}(t),u=+n;if(!r)return{message:`Invalid algorithm value: ${t}`};if(isNaN(u))return{message:`Invalid memory size value: ${n}`};let d=i.findIndex(e=>isNaN(+e));return -1!==d?{message:`Invalid sequence value: ${i}:${d} -> ${i.find((e,t)=>t===d)}`}:{validatedAlgorythm:r,validatedMemorySize:u,validatedSequence:i.map(e=>+e)}}({algorythm:e,memorySize:n.form.mem.value.toLowerCase().trim(),sequence:n.form.input.value.trim().split(" ")});if(void 0!==u){toastr.error(u);return}n.pageFault=0,n.pageData.innerText=n.pageFault,n.output.innerHTML="",n.outputSeq.innerHTML="",n.lastSeq=[],n.boutAlgorythmTitleIndicator.classList.remove("active"),n.aboutAlgorythmBoxes.forEach(e=>e.classList.remove("active"));let d=Array(i).fill(null),s=[];n.aboutAlgTitleSpan.innerText=e.toUpperCase(),n.aboutAlgorythmBoxes.forEach(t=>{t.dataset.alg===e?t.classList.add("active"):t.classList.remove("active")}),function(e){e.forEach(e=>{let t=document.createElement("tr");t.innerHTML=`<td>${e}</td>`,n.outputSeq.append(t)})}(r);for(let o=0;o<r.length;o++)t(+r[o],d,s,r,o),function(e){let t=document.createElement("tr");t.innerHTML=e.map(e=>{let t=-1!==n.lastSeq.findIndex(t=>t===e);return null===e&&(e="",t=!0),!t&&n.pageFault++,`<td class="${t?"":"isOld"}">${e}</td>`}).join(""),n.output.append(t)}(d),n.lastSeq="opt"!==e?[...s]:[...d];n.pageData.innerText=n.pageFault}window.addEventListener("load",()=>{n.form=document.querySelector(".form"),n.output=document.querySelector(".output"),n.pageData=document.querySelector(".stron-data"),n.outputSeq=document.querySelector(".output-seq"),n.aboutAlgTitle=document.querySelector(".about-algorythm-title"),n.aboutAlgTitleSpan=document.querySelector(".about-algorythm-title-span"),n.aboutAlgorythmBoxes=document.querySelectorAll(".about-algorythm-box"),n.boutAlgorythmTitleIndicator=document.querySelector(".about-algorythm-title-indicator"),i(),n.form.addEventListener("submit",e=>{e.preventDefault(),i()}),n.aboutAlgTitle.addEventListener("click",e=>{n.boutAlgorythmTitleIndicator.classList.toggle("active"),n.aboutAlgorythmBoxes.forEach(e=>{e.classList.contains("active")?e.classList.toggle("visible"):e.classList.remove("visible")})})});
//# sourceMappingURL=index.9fd992da.js.map
